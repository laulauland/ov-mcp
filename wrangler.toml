name = "ov-mcp-server"
main = "packages/cloudflare-worker/src/index.ts"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

# Workers AI binding for Cloudflare Agents
[ai]
binding = "AI"

# Durable Objects for MCP Agent (Cloudflare Agents SDK)
[[durable_objects.bindings]]
name = "OV_MCP"
class_name = "OVMcpAgent"

[[migrations]]
tag = "v1"
new_classes = ["OVMcpAgent"]

# KV Namespaces for caching GTFS data
# Create with: npx wrangler kv:namespace create GTFS_CACHE
# Then uncomment and add the ID below:
# [[kv_namespaces]]
# binding = "GTFS_CACHE"
# id = "<YOUR_KV_NAMESPACE_ID>"

# Environment variables
[vars]
ENVIRONMENT = "production"
GTFS_FEED_URL = "http://gtfs.ovapi.nl/gtfs-nl.zip"
REALTIME_FEED_URL = "http://gtfs.ovapi.nl/gtfsrt"

# Observability
[observability]
enabled = true
